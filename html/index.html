<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>KD ONLINE SHOP</title>

<link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@700&family=Baloo+2:wght@600&display=swap" rel="stylesheet">

<style>
*{margin:0;padding:0;box-sizing:border-box;font-family:Arial}
body{background:#fff}
header{position:fixed;top:0;width:100%;background:#000;color:#fff;text-align:center;padding:20px 20px 60px;z-index:1000}
header h1{font-family:Orbitron}
.header-subtext{color:silver;font-family:"Baloo 2"}
.search-container{position:absolute;bottom:5px;left:50%;transform:translateX(-50%);width:300px}
.search-container input{width:100%;padding:10px;border-radius:20px}
.products{padding:220px 30px;display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:20px}
.product-card{background:#fff;border-radius:10px;box-shadow:0 5px 10px rgba(0,0,0,.2);position:relative}
.product-card img{width:100%;height:200px;object-fit:cover}
.product-info{text-align:center;padding:10px}
.product-price{font-weight:bold}
.btn-container{display:flex;justify-content:center;gap:10px}
.order-btn{background:#ffcc00;border:none;padding:8px 14px;border-radius:20px}
.whatsapp-btn{background:#25D366;border:none;padding:8px 14px;border-radius:20px;color:#fff}
.menu{position:absolute;top:10px;right:10px}
.menu-btn{cursor:pointer}
.menu-content{display:none;position:absolute;right:0;background:#fff;border-radius:6px}
.menu-content button{display:block;width:100%;border:none;padding:8px}
#add-product{position:fixed;bottom:20px;right:20px;background:#ffcc00;border:none;padding:15px 20px;border-radius:30px;font-weight:bold}
footer{text-align:center;padding:15px;background:#111;color:#fff}
</style>
</head>

<body>

<header>
<h1>KD ONLINE SHOP</h1>
<div class="header-subtext">A very valuable customer service from us.</div>
<div class="search-container">
<input type="text" placeholder="Search..." id="search">
</div>
</header>

<section class="products" id="products"></section>

<button id="add-product">Add Product</button>

<footer>© 2025 KD ONLINE SHOP</footer>

<script>
const PASSWORD="Kkk111";
const STORAGE_KEY="kd_products";

// Default products (first load only)
const defaultProducts=[
 {name:"Headphones",desc:"High quality sound",price:3500,img:"https://files.catbox.moe/1hxuz4.webp"},
 {name:"Art Set",desc:"150 pieces",price:4500,img:"https://files.catbox.moe/1hxuz4.webp"}
];

let products = JSON.parse(localStorage.getItem(STORAGE_KEY)) || defaultProducts;
saveProducts();

function saveProducts(){
 localStorage.setItem(STORAGE_KEY,JSON.stringify(products));
}

function checkPassword(){
 const p=prompt("Enter password");
 return p===PASSWORD;
}

function renderProducts(){
 const box=document.getElementById("products");
 box.innerHTML="";
 products.forEach((p,i)=>{
 box.innerHTML+=`
 <div class="product-card">
  <div class="menu">
   <span class="menu-btn">⋮</span>
   <div class="menu-content">
    <button onclick="editProduct(${i})">Edit</button>
    <button onclick="deleteProduct(${i})">Delete</button>
   </div>
  </div>
  <img src="${p.img}">
  <div class="product-info">
   <h3>${p.name}</h3>
   <p>${p.desc}</p>
   <p class="product-price">Price: LKR ${p.price}</p>
   <div class="btn-container">
    <button class="order-btn" onclick="orderNow(${i})">Order Now</button>
    <button class="whatsapp-btn" onclick="whatsapp(${i})">WhatsApp</button>
   </div>
  </div>
 </div>`;
 });
 document.querySelectorAll(".menu-btn").forEach(b=>{
  b.onclick=()=>b.nextElementSibling.style.display=
  b.nextElementSibling.style.display==="block"?"none":"block";
 });
}

function addProduct(){
 if(!checkPassword())return alert("Wrong password");
 const name=prompt("Product name");
 const desc=prompt("Description");
 const price=prompt("Price");
 const img=prompt("Image URL");
 products.push({name,desc,price,img});
 saveProducts();
 renderProducts();
}

function editProduct(i){
 if(!checkPassword())return alert("Wrong password");
 products[i].name=prompt("Name",products[i].name);
 products[i].desc=prompt("Desc",products[i].desc);
 products[i].price=prompt("Price",products[i].price);
 saveProducts();
 renderProducts();
}

function deleteProduct(i){
 if(!checkPassword())return alert("Wrong password");
 products.splice(i,1);
 saveProducts();
 renderProducts();
}

function orderNow(i){
 const c=prompt("Your name");
 const a=prompt("Address");
 const p=prompt("Phone");
 const m=`Order\n${products[i].name}\nLKR ${products[i].price}\n${c}\n${a}\n${p}`;
 window.open(`https://wa.me/94755997160?text=${encodeURIComponent(m)}`);
}

function whatsapp(i){
 window.open(`https://wa.me/94755997160?text=I want ${products[i].name}`);
}

document.getElementById("add-product").onclick=addProduct;

document.getElementById("search").oninput=e=>{
 const t=e.target.value.toLowerCase();
 document.querySelectorAll(".product-card").forEach(c=>{
  c.style.display=c.innerText.toLowerCase().includes(t)?"":"none";
 });
};

renderProducts();
</script>

</body>
</html>
